<html>
<head>
<meta charset="utf-8" />
<title>canvas</title> 
<script src="../../lib/gl-matrix.js" ></script>

</head>

<body>

<p>this is a inline image that will be use as default while loading images in the engine: 
<img id='defaultimg' src="data:image/gif;base64,R0lGODlhEAAOALMAAOazToeHh0tLS/7LZv/0jvb29t/
f3//Ub//ge8WSLf/rhf/3kdbW1mxsbP//mf///yH5BAAAAAAALAAAAAAQAA4AAARe8L1Ekyky67
QZ1hLnjM5UUde0ECwLJoExKcppV0aCcGCmTIHEIUEqjgaORCMxIC6e0CcguWw6aFjsVMkkIr7g7
7ZKPJjPZqIyd7sJAgVGoEGv2xsBxqNgYPj/gAwXEQA7"
    width="16" height="14" alt="embedded folder icon"> </p>


<canvas id="c" width='480px' height='320px' style='border: 1px solid black' />
	</canvas>
	
<script src='../dist/muengine.js'></script>

<script >
 	var canvas = document.getElementById("c");
  
	MuEngine.setActiveCanvas(canvas);

  var defaultimg = document.getElementById("defaultimg");

	var p0  = vec3.fromValues(0, 0,  0);
	var px = vec3.fromValues(1, 0.3, 0);
	var py = vec3.fromValues(0, 1, 0);
	var pz = vec3.fromValues(0, 0, 1);

	var axis = new MuEngine.Node(); 

	
	var linex = new MuEngine.Line(p0, px, "#ff0000");
	var nodex = new MuEngine.Node(linex);
	axis.addChild(nodex);

	var liney = new MuEngine.Line(p0, py, "#00ff00");
	axis.addChild( new MuEngine.Node(liney));


	var linez= new MuEngine.Line(p0, pz, "#0000ff");
	axis.addChild( new MuEngine.Node(linez));


	var camera = new MuEngine.Camera();

	MuEngine.setActiveCamera(camera);

	camera.centerFixed(true);
 	camera.setEye(vec3.fromValues(0, 0, -10));
	camera.setCenter(vec3.fromValues(0, 0,0));
 
	window.addEventListener('keydown', onkeydown,false);

	function onkeydown(e){
		var code = e.keyCode;
		var dorender = true;
	  switch (code) {
	       case 37:console.log("Left");  camera.moveEye(vec3.fromValues(0.1, 0, 0)); break; //Left key
	       case 38: console.log("Up"); camera.moveEye(vec3.fromValues(0, 0.1, 0));break; //Up key
	       case 39: console.log("Right"); camera.moveEye(vec3.fromValues(-0.1, 0, 0));break; //Right key
	       case 40: console.log("Down"); camera.moveEye(vec3.fromValues(0, -0.1, 0));break; //Down key
	       default: console.log(code); dorender = false;//Everything else
	  }
	if(dorender) 
		render();	
};

function render(){
	MuEngine.clear();
  /* 
  camera.ctx.drawImage(defaultimg,
                  0, 0,
                  defaultimg.width, defaultimg.height,
                  100, 100,
                  defaultimg.width, defaultimg.height);
*/
	MuEngine.renderNode(axis);
};

render();
</script>

</body>
</html>
